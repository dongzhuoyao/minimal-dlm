# Default configuration for Minimal Masked Diffusion Model

# Model architecture
model:
  n_layer: 4
  n_head: 4
  n_embd: 256
  block_size: 256
  dropout: 0.0
  bias: false

# Diffusion process
diffusion:
  eps: 1e-3

# Training
training:
  batch_size: 64
  max_iters: 5000
  learning_rate: 1e-3
  weight_decay: 0.1
  warmup_iters: 100
  min_lr: 1e-4
  grad_clip: 1.0
  eval_interval: 250
  eval_iters: 20
  log_interval: 10

# Sampling
sampling:
  steps: 64
  temperature: 1.0
  strategy: stochastic  # stochastic or confidence

# Data
data:
  dir: data/shakespeare_char
  dataset: shakespeare_char

# Logging
logging:
  wandb: true
  project: minimal-dlm
  entity: null
  name: null  # auto-generated if null
  tags: []
  log_model: false  # log model checkpoints to wandb

# Checkpoints
checkpoint:
  dir: out
  save_interval: 1000

# System
system:
  device: cuda
  dtype: bfloat16
  seed: 42
  compile: false
