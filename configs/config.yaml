# Default configuration for Minimal Masked Diffusion Model

# Hydra settings
hydra:
  job:
    chdir: false
  run:
    dir: outputs/${now:%Y-%m-%d}/${now:%H-%M-%S}

# Model architecture
model:
  n_layer: 4
  n_head: 4
  n_embd: 256
  block_size: 256
  dropout: 0.0
  bias: false

# Diffusion process
diffusion:
  eps: 1e-3

# Training
training:
  batch_size: 256
  max_iters: 10000
  learning_rate: 1e-3
  weight_decay: 0.1
  warmup_iters: 500
  min_lr: 1e-4
  grad_clip: 1.0
  eval_interval: 250
  eval_iters: 20
  log_interval: 100
  save_interval: 1000

# Sampling
sampling:
  steps: 64
  temperature: 1.0
  strategy: stochastic  # stochastic or confidence

# Data
data:
  dir: data/shakespeare_char
  dataset: shakespeare_char

# Wandb (enabled by default)
wandb:
  enabled: true
  project: minimal-dlm
  entity: null
  name: null  # auto-generated from output dir if null

# System
system:
  device: cuda
  dtype: bfloat16
  seed: 42
  compile: false
